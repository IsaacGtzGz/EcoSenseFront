<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSense - Configuraci√≥n de Umbrales</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            min-height: 100vh;
        }

        .header {
            background: #2c5f2d;
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: #4caf50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .nav {
            display: flex;
            gap: 30px;
        }

        .nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }

        .nav a:hover {
            color: #4caf50;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-header h1 {
            color: #2c5f2d;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .page-header p {
            color: #666;
            font-size: 1.1rem;
        }

        .thresholds-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .threshold-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .threshold-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 1rem;
        }

        .temperature-icon {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
        }

        .humidity-icon {
            background: linear-gradient(135deg, #4ecdc4, #44b3aa);
        }

        .co2-icon {
            background: linear-gradient(135deg, #45b7d1, #3a9bc1);
        }

        .pm10-icon {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
        }

        .pm25-icon {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .pm10-icon {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .card-title {
            color: #2c5f2d;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2c5f2d;
            font-weight: 500;
        }

        .form-row {
            display: flex;
            gap: 1rem;
        }

        .form-row .form-group {
            flex: 1;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4caf50;
        }

        .threshold-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .status-active {
            background: #4caf50;
        }

        .status-warning {
            background: #ff9800;
        }

        .status-inactive {
            background: #e0e0e0;
        }

        .btn-save {
            background: #4caf50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
        }

        .btn-save:hover {
            background: #45a049;
        }

        .actions-panel {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .actions-header {
            color: #2c5f2d;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .btn-danger {
            background: #f44336;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-danger:hover {
            background: #d32f2f;
        }

        .footer {
            background: #2c5f2d;
            color: white;
            padding: 1rem;
            text-align: center;
            margin-top: 2rem;
        }

        @media (max-width: 768px) {
            .thresholds-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                flex-direction: column;
            }

            .btn-group {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">üçÉ</div>
            <div>
                <h2>EcoSense</h2>
                <small>Monitoreo Inteligente</small>
            </div>
        </div>
        <nav class="nav">
            <a href="05-dashboard.html">Dashboard</a>
            <a href="06-usuarios.html">Usuarios</a>
            <a href="07-dispositivos.html">Dispositivos</a>
            <a href="08-umbrales.html">Umbrales</a>
            <a href="09-reportes.html">Reportes</a>
        </nav>
    </header>

    <div class="container">
        <div class="page-header">
            <h1>Configuraci√≥n de Umbrales</h1>
            <p>Define los l√≠mites para cada sensor y configura las alertas autom√°ticas</p>
        </div>

        <div class="actions-panel">
            <h3 class="actions-header">Acciones R√°pidas</h3>
            <div class="btn-group">
                <button class="btn-secondary" onclick="loadDefaultThresholds()">Cargar Valores por Defecto</button>
                <button class="btn-secondary" onclick="exportThresholds()">Exportar Configuraci√≥n</button>
                <button class="btn-secondary" onclick="importThresholds()">Importar Configuraci√≥n</button>
                <button class="btn-danger" onclick="resetAllThresholds()">Resetear Todo</button>
            </div>
        </div>

        <div class="thresholds-grid">
            <!-- Tarjeta de Temperatura -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon temperature-icon">üå°Ô∏è</div>
                    <div class="card-title">Temperatura (¬∞C)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="temp-min">M√≠nimo (¬∞C)</label>
                            <input type="number" id="temp-min" value="18" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="temp-max">M√°ximo (¬∞C)</label>
                            <input type="number" id="temp-max" value="25" step="0.1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="temp-alert">Tipo de Alerta</label>
                        <select id="temp-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('temperature')">Guardar
                        Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de Humedad -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon humidity-icon">üíß</div>
                    <div class="card-title">Humedad (%)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="humidity-min">M√≠nimo (%)</label>
                            <input type="number" id="humidity-min" value="40" step="1">
                        </div>
                        <div class="form-group">
                            <label for="humidity-max">M√°ximo (%)</label>
                            <input type="number" id="humidity-max" value="70" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="humidity-alert">Tipo de Alerta</label>
                        <select id="humidity-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('humidity')">Guardar
                        Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de Presi√≥n Atmosf√©rica -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon" style="background: linear-gradient(135deg, #b2bec3, #636e72);">‚è≤Ô∏è</div>
                    <div class="card-title">Presi√≥n Atmosf√©rica (hPa)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pressure-min">M√≠nimo (hPa)</label>
                            <input type="number" id="pressure-min" value="950" step="1">
                        </div>
                        <div class="form-group">
                            <label for="pressure-max">M√°ximo (hPa)</label>
                            <input type="number" id="pressure-max" value="1050" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pressure-alert">Tipo de Alerta</label>
                        <select id="pressure-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('pressure')">Guardar
                        Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de CO‚ÇÇ -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon co2-icon">üå¨Ô∏è</div>
                    <div class="card-title">CO‚ÇÇ (ppm)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-warning"></div>
                    <span>Valores Elevados</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="co2-good">Bueno (ppm)</label>
                            <input type="number" id="co2-good" value="400" step="50">
                        </div>
                        <div class="form-group">
                            <label for="co2-moderate">Moderado (ppm)</label>
                            <input type="number" id="co2-moderate" value="600" step="50">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="co2-poor">Alto (ppm)</label>
                        <input type="number" id="co2-poor" value="1000" step="50">
                    </div>
                    <div class="form-group">
                        <label for="co2-alert">Tipo de Alerta</label>
                        <select id="co2-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both" selected>Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('co2')">Guardar Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de PM1.0 -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon" style="background: linear-gradient(135deg, #00b894, #00cec9);">ü¶†</div>
                    <div class="card-title">PM1.0 (¬µg/m¬≥)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pm1-good">Buena (¬µg/m¬≥)</label>
                            <input type="number" id="pm1-good" value="5" step="1">
                        </div>
                        <div class="form-group">
                            <label for="pm1-moderate">Moderada (¬µg/m¬≥)</label>
                            <input type="number" id="pm1-moderate" value="15" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pm1-poor">Mala (¬µg/m¬≥)</label>
                        <input type="number" id="pm1-poor" value="25" step="1">
                    </div>
                    <div class="form-group">
                        <label for="pm1-alert">Tipo de Alerta</label>
                        <select id="pm1-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('pm1')">Guardar Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de PM2.5 -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon pm25-icon">üí®</div>
                    <div class="card-title">PM2.5 (¬µg/m¬≥)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pm25-good">Buena (¬µg/m¬≥)</label>
                            <input type="number" id="pm25-good" value="12" step="1">
                        </div>
                        <div class="form-group">
                            <label for="pm25-moderate">Moderada (¬µg/m¬≥)</label>
                            <input type="number" id="pm25-moderate" value="35" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pm25-poor">Mala (¬µg/m¬≥)</label>
                        <input type="number" id="pm25-poor" value="55" step="1">
                    </div>
                    <div class="form-group">
                        <label for="pm25-alert">Tipo de Alerta</label>
                        <select id="pm25-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('pm25')">Guardar
                        Configuraci√≥n</button>
                </form>
            </div>
            <!-- Tarjeta de PM10 -->
            <div class="threshold-card">
                <div class="card-header">
                    <div class="card-icon pm10-icon">üè≠</div>
                    <div class="card-title">PM10 (¬µg/m¬≥)</div>
                </div>
                <div class="threshold-status">
                    <div class="status-indicator status-active"></div>
                    <span>Monitoreo Activo</span>
                </div>
                <form>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pm10-good">Buena (¬µg/m¬≥)</label>
                            <input type="number" id="pm10-good" value="20" step="1">
                        </div>
                        <div class="form-group">
                            <label for="pm10-moderate">Moderada (¬µg/m¬≥)</label>
                            <input type="number" id="pm10-moderate" value="50" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pm10-poor">Mala (¬µg/m¬≥)</label>
                        <input type="number" id="pm10-poor" value="100" step="1">
                    </div>
                    <div class="form-group">
                        <label for="pm10-alert">Tipo de Alerta</label>
                        <select id="pm10-alert">
                            <option value="email">Email</option>
                            <option value="sms">SMS</option>
                            <option value="both">Email y SMS</option>
                        </select>
                    </div>
                    <button type="button" class="btn-save" onclick="saveThreshold('pm10')">Guardar
                        Configuraci√≥n</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 EcoSense. Todos los derechos reservados.</p>
    </footer>

    <script>
        function saveThreshold(sensorType) {
            alert(`Configuraci√≥n de ${sensorType} guardada correctamente`);
            console.log(`Saving threshold configuration for ${sensorType}`);
        }

        function loadDefaultThresholds() {
            if (confirm('¬øEst√°s seguro de que quieres cargar los valores por defecto? Se perder√°n las configuraciones actuales.')) {
                // Temperatura
                document.getElementById('temp-min').value = '18';
                document.getElementById('temp-max').value = '25';

                // Humedad
                document.getElementById('humidity-min').value = '40';
                document.getElementById('humidity-max').value = '70';

                // Presi√≥n atmosf√©rica
                document.getElementById('pressure-min').value = '950';
                document.getElementById('pressure-max').value = '1050';

                // CO‚ÇÇ
                document.getElementById('co2-good').value = '400';
                document.getElementById('co2-moderate').value = '600';
                document.getElementById('co2-poor').value = '1000';

                // PM1.0
                document.getElementById('pm1-good').value = '5';
                document.getElementById('pm1-moderate').value = '15';
                document.getElementById('pm1-poor').value = '25';

                // PM2.5
                document.getElementById('pm25-good').value = '12';
                document.getElementById('pm25-moderate').value = '35';
                document.getElementById('pm25-poor').value = '55';

                // PM10
                document.getElementById('pm10-good').value = '20';
                document.getElementById('pm10-moderate').value = '50';
                document.getElementById('pm10-poor').value = '100';

                alert('Valores por defecto cargados correctamente');
            }
        }

        function exportThresholds() {
            const config = {
                temperature: {
                    min: document.getElementById('temp-min').value,
                    max: document.getElementById('temp-max').value,
                    alert: document.getElementById('temp-alert').value
                },
                humidity: {
                    min: document.getElementById('humidity-min').value,
                    max: document.getElementById('humidity-max').value,
                    alert: document.getElementById('humidity-alert').value
                },
                pressure: {
                    min: document.getElementById('pressure-min').value,
                    max: document.getElementById('pressure-max').value,
                    alert: document.getElementById('pressure-alert').value
                },
                co2: {
                    good: document.getElementById('co2-good').value,
                    moderate: document.getElementById('co2-moderate').value,
                    poor: document.getElementById('co2-poor').value,
                    alert: document.getElementById('co2-alert').value
                },
                pm1: {
                    good: document.getElementById('pm1-good').value,
                    moderate: document.getElementById('pm1-moderate').value,
                    poor: document.getElementById('pm1-poor').value,
                    alert: document.getElementById('pm1-alert').value
                },
                pm25: {
                    good: document.getElementById('pm25-good').value,
                    moderate: document.getElementById('pm25-moderate').value,
                    poor: document.getElementById('pm25-poor').value,
                    alert: document.getElementById('pm25-alert').value
                },
                pm10: {
                    good: document.getElementById('pm10-good').value,
                    moderate: document.getElementById('pm10-moderate').value,
                    poor: document.getElementById('pm10-poor').value,
                    alert: document.getElementById('pm10-alert').value
                }
            };

            const dataStr = JSON.stringify(config, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'ecosense-thresholds.json';
            link.click();
        }

        function importThresholds() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';

            input.onchange = function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        try {
                            const config = JSON.parse(e.target.result);


                            // Cargar configuraci√≥n de temperatura
                            if (config.temperature) {
                                document.getElementById('temp-min').value = config.temperature.min || '18';
                                document.getElementById('temp-max').value = config.temperature.max || '25';
                                document.getElementById('temp-alert').value = config.temperature.alert || 'email';
                            }

                            // Cargar configuraci√≥n de humedad
                            if (config.humidity) {
                                document.getElementById('humidity-min').value = config.humidity.min || '40';
                                document.getElementById('humidity-max').value = config.humidity.max || '70';
                                document.getElementById('humidity-alert').value = config.humidity.alert || 'email';
                            }

                            // Cargar configuraci√≥n de presi√≥n atmosf√©rica
                            if (config.pressure) {
                                document.getElementById('pressure-min').value = config.pressure.min || '950';
                                document.getElementById('pressure-max').value = config.pressure.max || '1050';
                                document.getElementById('pressure-alert').value = config.pressure.alert || 'email';
                            }

                            // Cargar configuraci√≥n de CO‚ÇÇ
                            if (config.co2) {
                                document.getElementById('co2-good').value = config.co2.good || '400';
                                document.getElementById('co2-moderate').value = config.co2.moderate || '600';
                                document.getElementById('co2-poor').value = config.co2.poor || '1000';
                                document.getElementById('co2-alert').value = config.co2.alert || 'email';
                            }

                            // Cargar configuraci√≥n de PM1.0
                            if (config.pm1) {
                                document.getElementById('pm1-good').value = config.pm1.good || '5';
                                document.getElementById('pm1-moderate').value = config.pm1.moderate || '15';
                                document.getElementById('pm1-poor').value = config.pm1.poor || '25';
                                document.getElementById('pm1-alert').value = config.pm1.alert || 'email';
                            }

                            // Cargar configuraci√≥n de PM2.5
                            if (config.pm25) {
                                document.getElementById('pm25-good').value = config.pm25.good || '12';
                                document.getElementById('pm25-moderate').value = config.pm25.moderate || '35';
                                document.getElementById('pm25-poor').value = config.pm25.poor || '55';
                                document.getElementById('pm25-alert').value = config.pm25.alert || 'email';
                            }

                            // Cargar configuraci√≥n de PM10
                            if (config.pm10) {
                                document.getElementById('pm10-good').value = config.pm10.good || '20';
                                document.getElementById('pm10-moderate').value = config.pm10.moderate || '50';
                                document.getElementById('pm10-poor').value = config.pm10.poor || '100';
                                document.getElementById('pm10-alert').value = config.pm10.alert || 'email';
                            }

                            alert('Configuraci√≥n importada correctamente');
                        } catch (error) {
                            alert('Error al leer el archivo. Aseg√∫rate de que sea un archivo JSON v√°lido.');
                        }
                    };
                    reader.readAsText(file);
                }
            };

            input.click();
        }

        function resetAllThresholds() {
            if (confirm('¬øEst√°s seguro de que quieres resetear toda la configuraci√≥n? Esta acci√≥n no se puede deshacer.')) {
                loadDefaultThresholds();
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            console.log('P√°gina de umbrales cargada correctamente');
        });
    </script>
</body>

</html>